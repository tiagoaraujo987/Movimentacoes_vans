<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Movimenta√ß√£o de Vans</title>
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: #121212;
            color: #e0e0e0;
            font-family: sans-serif;
            margin: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container { width: 100%; max-width: 400px; }
        h2 { color: #00e676; text-align: center; font-size: 1.2em; text-transform: uppercase; }
        .form-group { display: flex; flex-direction: column; margin-bottom: 12px; width: 100%; }
        label { font-size: 12px; margin-bottom: 4px; color: #00e676; font-weight: bold; }

        .time-row { display: flex; gap: 5px; }

        select, input {
            background-color: #1e1e1e;
            border: 1px solid #333;
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-size: 16px; 
            height: 48px;
            outline: none;
            width: 100%;
        }

        #preview-container { display: none; margin: 15px 0; }
        .preview-box {
            background-color: #1a1a1a;
            border-left: 4px solid #00e676;
            padding: 15px;
            border-radius: 4px;
            font-size: 14px;
            white-space: pre-wrap;
            color: #ddd;
        }

        .btn-copy {
            background-color: #00e676;
            color: #000;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 16px;
            width: 100%;
            margin-bottom: 10px;
        }

        .btn-clear {
            background-color: #262626;
            color: #888;
            border: none;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            width: 100%;
        }

        .footer-sig { margin-top: 30px; font-size: 10px; color: #444; text-align: center; }
    </style>
</head>
<body>

<div class="container">
    <h2>MOVIMENTA√á√ÉO DE VANS</h2>

    <div class="form-group">
        <label>Local / Atividade</label>
        <select id="embarque" onchange="verificarTipo()">
            <option value="EMBARQUE CENTRAL">EMBARQUE CENTRAL</option>
            <option value="EMBARQUE LGO DO MACHADO">EMBARQUE LGO DO MACHADO</option>
            <option value="PAINEIRAS">PAINEIRAS</option>
            <option value="ICNbio">ICNbio</option>
            <option value="ABASTECIMENTO">ABASTECIMENTO</option>
        </select>
    </div>

    <div class="form-group">
        <label>Hor√°rio (Hora : Min)</label>
        <div class="time-row">
            <select id="hora" onchange="validar()"></select>
            <select id="minuto" onchange="validar()"></select>
        </div>
    </div>

    <div class="form-group">
        <label id="label-quantidade">Qtd. Integrantes</label>
        <input type="number" id="quantidade" placeholder="Ex: 12" oninput="validar()">
    </div>

    <div class="form-group">
        <label>N√∫mero da Van</label>
        <input type="text" id="van" placeholder="Ex: 156" oninput="validar()">
    </div>

    <div class="form-group">
        <label id="label-matricula">Matr√≠cula (Opcional)</label>
        <input type="text" id="matricula" placeholder="Matr√≠cula" oninput="validar()">
    </div>

    <div class="form-group">
        <label id="label-motorista">Motorista (Opcional)</label>
        <input type="text" id="nome" placeholder="Nome do Motorista" oninput="validar()">
    </div>

    <div id="preview-container">
        <div id="preview" class="preview-box"></div>
    </div>

    <button class="btn-copy" id="btnCopiar" onclick="copiar()">COPIAR</button>
    <button class="btn-clear" onclick="window.location.reload()">LIMPAR TUDO</button>

    <div class="footer-sig">By Tiago C Araujo -- Mat 3240</div>
</div>

<script>
    const selHora = document.getElementById('hora');
    const selMin = document.getElementById('minuto');
    
    for(let i=0; i<24; i++) {
        let h = i < 10 ? '0'+i : i;
        selHora.options[selHora.options.length] = new Option(h, h);
    }
    for(let i=0; i<60; i++) {
        let m = i < 10 ? '0'+i : i;
        selMin.options[selMin.options.length] = new Option(m, m);
    }

    function verificarTipo() {
        const emb = document.getElementById('embarque').value;
        document.getElementById('label-quantidade').innerText = (emb === "ABASTECIMENTO") ? "KM" : "Qtd. Integrantes";
        validar();
    }

    function validar() {
        const q = document.getElementById('quantidade').value;
        const v = document.getElementById('van').value;
        const n = document.getElementById('nome').value;
        const m = document.getElementById('matricula').value;
        
        document.getElementById('preview-container').style.display = (q||v||n||m) ? 'block' : 'none';
        document.getElementById('preview').innerText = gerarTexto();
    }

    function gerarTexto() {
        const emb = document.getElementById('embarque').value;
        const h = document.getElementById('hora').value;
        const mi = document.getElementById('minuto').value;
        const q = document.getElementById('quantidade').value || "0";
        const v = document.getElementById('van').value || "---";
        const n = document.getElementById('nome').value;
        const m = document.getElementById('matricula').value;

        let txt = `*RELAT√ìRIO DE TRANSPORTE*\nüìç *Local:* ${emb}\n‚è∞ *Hora:* ${h}:${mi}\n`;
        txt += (emb === "ABASTECIMENTO") ? `üõ£Ô∏è *KM:* ${q}\n` : `üë• *Qtd:* ${q}\n`;
        txt += `üöê *Van:* ${v}`;
        if (n || m) txt += `\n\n*Motorista:*${n ? '\nüë§ ' + n.toUpperCase() : ''}${m ? '\nüÜî Mat: ' + m : ''}`;
        return txt;
    }

    function copiar() {
        // M√©todo de c√≥pia compat√≠vel com HTTPS e Web
        const areaTexto = document.createElement("textarea");
        areaTexto.value = gerarTexto();
        document.body.appendChild(areaTexto);
        areaTexto.select();
        try {
            document.execCommand("copy");
            alert("Copiado com sucesso! ‚úÖ");
        } catch (err) {
            alert("Erro ao copiar.");
        }
        document.body.removeChild(areaTexto);
    }
</script>
</body>
</html>
